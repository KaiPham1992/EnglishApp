//
//  DailyMissonViewController.swift
//  EnglishApp
//
//  Created Steve on 7/19/19.
//  Copyright © 2019 demo. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit

class DailyMissonViewController: BaseViewController, DailyMissonViewProtocol {

    @IBOutlet weak var lblContentDailyMisson: UILabel!
    @IBOutlet weak var btnStartDailyMisson: UIButton!
    var presenter: DailyMissonPresenterProtocol?

    @IBAction func startDailiMisson(_ sender: Any) {
        if let _dateTest = dateTestDaillyMisson {
            let date = Date()
            let order = Calendar.current.compare(date, to: _dateTest, toGranularity: Calendar.Component.day)
            switch order {
            case .orderedSame:
                break
            default:
                dateTestDaillyMisson = nil
            }
            print("=====================================")
        }
        if dateTestDaillyMisson == nil {
            self.presenter?.gotoDailyMisson()
        } else {
            PopUpHelper.shared.showError(message: "Không làm lại được nhiệm vụ hằng ngày cho đến 0h hôm sau") {
                
            }
        }
    }
    
    override func setUpViews() {
        super.setUpViews()
        btnStartDailyMisson.setTitle(LocalizableKey.startAfter.showLanguage.uppercased(), for: .normal)
        lblContentDailyMisson.text = LocalizableKey.messageDailyMission.showLanguage
    }
    
    override func setUpNavigation() {
        super.setUpNavigation()
        addBackToNavigation()
        setTitleNavigation(title: LocalizableKey.dailyMissionTitle.showLanguage)
    }

}
