//
//  NameExercisePresenter.swift
//  EnglishApp
//
//  Created vinova on 5/23/19.
//  Copyright © 2019 demo. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit

class NameExercisePresenter: NameExercisePresenterProtocol, NameExerciseInteractorOutputProtocol {
 
    weak private var view: NameExerciseViewProtocol?
    var interactor: NameExerciseInteractorInputProtocol?
    private let router: NameExerciseWireframeProtocol
    var exerciseEntity: ViewExerciseEntity?

    init(interface: NameExerciseViewProtocol, interactor: NameExerciseInteractorInputProtocol?, router: NameExerciseWireframeProtocol) {
        self.view = interface
        self.interactor = interactor
        self.router = router
    }

    
    func gotoDetailVocabulary() {
        self.router.gotoDetailVocabulary()
    }
    func gotoResult() {
        self.router.gotoResult()
    }
    
    func getNumber() -> Int? {
        return exerciseEntity?.questions?.count
    }
    
    func getAllTime() -> [Int]? {
        return exerciseEntity?.questions?.map{$0.question_time}.compactMap{Int($0 ?? "0")}
    }
    
    
    func getAllIdQuestion() -> [Int]?{
        return exerciseEntity?.questions?.map{Int($0._id ?? "0")}.compactMap{$0}
    }
    
    func getTime(index: Int) -> Int? {
        return Int(exerciseEntity?.questions?[index].question_time ?? "0")
    }
    
    func getQuestion(indexPath: IndexPath) -> QuestionEntity? {
        return exerciseEntity?.questions?[indexPath.row]
    }
    
    func getViewExercise() {
        
    }
    
    func getViewEntranceTest() {
        self.interactor?.getViewEntranceTest()
    }
    
    func getExerciseSuccessed(respone: ViewExerciseEntity) {
        self.exerciseEntity = respone
        self.view?.reloadView()
    }
    

}
